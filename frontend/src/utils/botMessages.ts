/**
 * Orion Bot Message Templates System
 * 100+ unique trading activity messages categorized by action type
 */

export type MessageCategory =
  | "market_scanning"
  | "trade_execution"
  | "risk_management"
  | "technical_analysis"
  | "order_management"
  | "portfolio_actions"
  | "advanced_signals";

export interface MessageTemplate {
  id: string;
  category: MessageCategory;
  template: string;
  priority: "low" | "medium" | "high";
  timePreference?: "morning" | "midday" | "evening" | "night" | "any";
  marketCondition?: "volatile" | "stable" | "trending" | "ranging" | "any";
}

export interface BotMessage {
  id: string;
  category: MessageCategory;
  content: string;
  timestamp: Date;
  priority: "low" | "medium" | "high";
  symbol?: string;
}

/**
 * Message Templates - 100+ unique messages across 7 categories
 */
export const MESSAGE_TEMPLATES: MessageTemplate[] = [
  // ==================== MARKET SCANNING (15 messages) ====================
  {
    id: "ms_001",
    category: "market_scanning",
    template: "Scanning {symbol} market depth... detecting {volume}% volume surge",
    priority: "low",
    timePreference: "any",
    marketCondition: "any",
  },
  {
    id: "ms_002",
    category: "market_scanning",
    template: "Multi-timeframe analysis initiated for {symbol} across 1m, 5m, 15m charts",
    priority: "low",
    timePreference: "any",
    marketCondition: "any",
  },
  {
    id: "ms_003",
    category: "market_scanning",
    template: "Correlation matrix updated: {symbol} showing {correlation}% correlation with BTC",
    priority: "low",
    timePreference: "any",
    marketCondition: "any",
  },
  {
    id: "ms_004",
    category: "market_scanning",
    template: "Monitoring {symbol} order book asymmetry - bid/ask ratio: {ratio}",
    priority: "medium",
    timePreference: "any",
    marketCondition: "volatile",
  },
  {
    id: "ms_005",
    category: "market_scanning",
    template: "Whale activity detected: {symbol} large order ({size} USDT) at ${price}",
    priority: "high",
    timePreference: "any",
    marketCondition: "any",
  },
  {
    id: "ms_006",
    category: "market_scanning",
    template: "Liquidity heatmap analysis: {symbol} resistance zone identified at ${price}",
    priority: "medium",
    timePreference: "any",
    marketCondition: "any",
  },
  {
    id: "ms_007",
    category: "market_scanning",
    template: "Volume profile scan complete for {symbol} - POC at ${price}",
    priority: "low",
    timePreference: "any",
    marketCondition: "stable",
  },
  {
    id: "ms_008",
    category: "market_scanning",
    template: "Tick analysis: {symbol} pressure shifting to {direction} side",
    priority: "medium",
    timePreference: "any",
    marketCondition: "trending",
  },
  {
    id: "ms_009",
    category: "market_scanning",
    template: "Cross-exchange arbitrage opportunity: {symbol} spread {spread}% (Binance/Coinbase)",
    priority: "high",
    timePreference: "any",
    marketCondition: "volatile",
  },
  {
    id: "ms_010",
    category: "market_scanning",
    template: "Sentiment analysis: {symbol} social volume +{volume}% in last 15 minutes",
    priority: "low",
    timePreference: "any",
    marketCondition: "any",
  },
  {
    id: "ms_011",
    category: "market_scanning",
    template: "Market microstructure analysis: {symbol} spread tightening to {spread} bps",
    priority: "low",
    timePreference: "any",
    marketCondition: "stable",
  },
  {
    id: "ms_012",
    category: "market_scanning",
    template: "Funding rate check: {symbol} perpetual funding at {rate}% (8h)",
    priority: "medium",
    timePreference: "any",
    marketCondition: "any",
  },
  {
    id: "ms_013",
    category: "market_scanning",
    template: "Options flow analysis: {symbol} unusual call activity at ${strike} strike",
    priority: "high",
    timePreference: "any",
    marketCondition: "any",
  },
  {
    id: "ms_014",
    category: "market_scanning",
    template: "Volatility surface scan: {symbol} IV skew detected, {expiry} expiry",
    priority: "medium",
    timePreference: "any",
    marketCondition: "volatile",
  },
  {
    id: "ms_015",
    category: "market_scanning",
    template: "On-chain metrics: {symbol} exchange netflow {flow} (24h accumulation signal)",
    priority: "medium",
    timePreference: "morning",
    marketCondition: "any",
  },

  // ==================== TRADE EXECUTION (18 messages) ====================
  {
    id: "te_001",
    category: "trade_execution",
    template: "LONG {symbol} executed @ ${price} | Size: {size} USDT | Stop: ${stop}",
    priority: "high",
    timePreference: "any",
    marketCondition: "any",
  },
  {
    id: "te_002",
    category: "trade_execution",
    template: "SHORT {symbol} filled @ ${price} | Risk: {risk}% | Target: ${target}",
    priority: "high",
    timePreference: "any",
    marketCondition: "any",
  },
  {
    id: "te_003",
    category: "trade_execution",
    template: "Scalp entry: {symbol} @ ${price} | Quick flip target +{gain}%",
    priority: "medium",
    timePreference: "any",
    marketCondition: "volatile",
  },
  {
    id: "te_004",
    category: "trade_execution",
    template: "Swing position opened: {symbol} @ ${price} | Holding period: {period}",
    priority: "medium",
    timePreference: "any",
    marketCondition: "trending",
  },
  {
    id: "te_005",
    category: "trade_execution",
    template: "DCA entry #{entry}: {symbol} @ ${price} | Avg entry now ${avgPrice}",
    priority: "medium",
    timePreference: "any",
    marketCondition: "any",
  },
  {
    id: "te_006",
    category: "trade_execution",
    template: "Breakout trade: {symbol} cleared ${resistance} resistance | Entry @ ${price}",
    priority: "high",
    timePreference: "any",
    marketCondition: "trending",
  },
  {
    id: "te_007",
    category: "trade_execution",
    template: "Mean reversion play: {symbol} @ ${price} (RSI oversold {rsi})",
    priority: "medium",
    timePreference: "any",
    marketCondition: "ranging",
  },
  {
    id: "te_008",
    category: "trade_execution",
    template: "Momentum entry: {symbol} @ ${price} | 5m EMA cross confirmed",
    priority: "medium",
    timePreference: "any",
    marketCondition: "trending",
  },
  {
    id: "te_009",
    category: "trade_execution",
    template: "Support bounce trade: {symbol} @ ${price} | ${support} level held",
    priority: "medium",
    timePreference: "any",
    marketCondition: "stable",
  },
  {
    id: "te_010",
    category: "trade_execution",
    template: "Grid order filled: {symbol} @ ${price} | Level {level}/10",
    priority: "low",
    timePreference: "any",
    marketCondition: "ranging",
  },
  {
    id: "te_011",
    category: "trade_execution",
    template: "Partial exit executed: {symbol} @ ${price} | Locked +{gain}% on {percent}% position",
    priority: "high",
    timePreference: "any",
    marketCondition: "any",
  },
  {
    id: "te_012",
    category: "trade_execution",
    template: "Full position closed: {symbol} @ ${price} | Net P&L: {pnl} USDT ({percent}%)",
    priority: "high",
    timePreference: "any",
    marketCondition: "any",
  },
  {
    id: "te_013",
    category: "trade_execution",
    template: "Stop loss triggered: {symbol} @ ${price} | Loss contained at -{loss}%",
    priority: "high",
    timePreference: "any",
    marketCondition: "any",
  },
  {
    id: "te_014",
    category: "trade_execution",
    template: "Take profit hit: {symbol} @ ${price} | Target reached +{gain}% ðŸŽ¯",
    priority: "high",
    timePreference: "any",
    marketCondition: "any",
  },
  {
    id: "te_015",
    category: "trade_execution",
    template: "Trailing stop activated: {symbol} @ ${price} | Protecting +{gain}% gains",
    priority: "medium",
    timePreference: "any",
    marketCondition: "trending",
  },
  {
    id: "te_016",
    category: "trade_execution",
    template: "Pyramid add: {symbol} @ ${price} | Position size +{increase}% (trend continuation)",
    priority: "medium",
    timePreference: "any",
    marketCondition: "trending",
  },
  {
    id: "te_017",
    category: "trade_execution",
    template: "Hedge position opened: SHORT {symbol} @ ${price} | Portfolio protection",
    priority: "medium",
    timePreference: "any",
    marketCondition: "volatile",
  },
  {
    id: "te_018",
    category: "trade_execution",
    template: "Rebalance trade: Rotating {fromSymbol} â†’ {toSymbol} @ ${price}",
    priority: "medium",
    timePreference: "any",
    marketCondition: "any",
  },

  // ==================== RISK MANAGEMENT (14 messages) ====================
  {
    id: "rm_001",
    category: "risk_management",
    template: "Portfolio heat check: {heat}% of capital at risk | Within safe limits",
    priority: "medium",
    timePreference: "any",
    marketCondition: "any",
  },
  {
    id: "rm_002",
    category: "risk_management",
    template: "Drawdown alert: Daily loss at -{loss}% | Approaching -{limit}% threshold",
    priority: "high",
    timePreference: "any",
    marketCondition: "volatile",
  },
  {
    id: "rm_003",
    category: "risk_management",
    template: "Risk-reward ratio optimized: {symbol} trade RR {ratio}:1",
    priority: "low",
    timePreference: "any",
    marketCondition: "any",
  },
  {
    id: "rm_004",
    category: "risk_management",
    template: "Position sizing adjusted: {symbol} reduced to {percent}% allocation",
    priority: "medium",
    timePreference: "any",
    marketCondition: "volatile",
  },
  {
    id: "rm_005",
    category: "risk_management",
    template: "Correlation warning: {symbol} and {symbol2} positions highly correlated",
    priority: "high",
    timePreference: "any",
    marketCondition: "any",
  },
  {
    id: "rm_006",
    category: "risk_management",
    template: "Exposure check: {symbol} represents {percent}% of portfolio (within {limit}% limit)",
    priority: "low",
    timePreference: "any",
    marketCondition: "any",
  },
  {
    id: "rm_007",
    category: "risk_management",
    template: "Volatility spike: {symbol} ATR increased {percent}% | Widening stops",
    priority: "high",
    timePreference: "any",
    marketCondition: "volatile",
  },
  {
    id: "rm_008",
    category: "risk_management",
    template: "Margin utilization: {percent}% used | {available} USDT available",
    priority: "medium",
    timePreference: "any",
    marketCondition: "any",
  },
  {
    id: "rm_009",
    category: "risk_management",
    template: "Stop loss adjusted: {symbol} stop moved to ${price} (breakeven +{spread} bps)",
    priority: "medium",
    timePreference: "any",
    marketCondition: "trending",
  },
  {
    id: "rm_010",
    category: "risk_management",
    template: "Max positions limit: {current}/{max} active | Waiting for exits before new entries",
    priority: "low",
    timePreference: "any",
    marketCondition: "any",
  },
  {
    id: "rm_011",
    category: "risk_management",
    template: "Sharpe ratio update: {ratio} (trailing 30-day) | Performance stable",
    priority: "low",
    timePreference: "morning",
    marketCondition: "any",
  },
  {
    id: "rm_012",
    category: "risk_management",
    template: "VaR analysis: 95% confidence 1-day VaR = {var} USDT",
    priority: "low",
    timePreference: "morning",
    marketCondition: "any",
  },
  {
    id: "rm_013",
    category: "risk_management",
    template: "Win rate check: {wins}/{total} trades ({percent}%) | Maintaining edge",
    priority: "low",
    timePreference: "evening",
    marketCondition: "any",
  },
  {
    id: "rm_014",
    category: "risk_management",
    template: "Emergency protocol: High volatility detected | Reducing all positions by {percent}%",
    priority: "high",
    timePreference: "any",
    marketCondition: "volatile",
  },

  // ==================== TECHNICAL ANALYSIS (16 messages) ====================
  {
    id: "ta_001",
    category: "technical_analysis",
    template: "RSI divergence: {symbol} price vs RSI showing {type} divergence",
    priority: "high",
    timePreference: "any",
    marketCondition: "any",
  },
  {
    id: "ta_002",
    category: "technical_analysis",
    template: "MACD signal: {symbol} {action} crossover on {timeframe} chart",
    priority: "medium",
    timePreference: "any",
    marketCondition: "trending",
  },
  {
    id: "ta_003",
    category: "technical_analysis",
    template: "Bollinger squeeze: {symbol} volatility compression | Expansion imminent",
    priority: "high",
    timePreference: "any",
    marketCondition: "stable",
  },
  {
    id: "ta_004",
    category: "technical_analysis",
    template: "Fibonacci retracement: {symbol} bouncing at {fibLevel} level (${price})",
    priority: "medium",
    timePreference: "any",
    marketCondition: "any",
  },
  {
    id: "ta_005",
    category: "technical_analysis",
    template: "EMA cloud: {symbol} trading {chartPosition} cloud | Trend {trendDirection}",
    priority: "low",
    timePreference: "any",
    marketCondition: "trending",
  },
  {
    id: "ta_006",
    category: "technical_analysis",
    template: "Volume confirmation: {symbol} breakout with {volume}x avg volume",
    priority: "high",
    timePreference: "any",
    marketCondition: "trending",
  },
  {
    id: "ta_007",
    category: "technical_analysis",
    template: "Ichimoku signal: {symbol} {action} through cloud | Kumo twist detected",
    priority: "medium",
    timePreference: "any",
    marketCondition: "trending",
  },
  {
    id: "ta_008",
    category: "technical_analysis",
    template: "Support/Resistance: {symbol} testing ${price} zone ({touches} touches)",
    priority: "medium",
    timePreference: "any",
    marketCondition: "any",
  },
  {
    id: "ta_009",
    category: "technical_analysis",
    template: "Stochastic RSI: {symbol} {stochCondition} ({value}) on {timeframe}",
    priority: "low",
    timePreference: "any",
    marketCondition: "ranging",
  },
  {
    id: "ta_010",
    category: "technical_analysis",
    template: "Chart pattern: {symbol} forming {pattern} | Target ${target}",
    priority: "high",
    timePreference: "any",
    marketCondition: "any",
  },
  {
    id: "ta_011",
    category: "technical_analysis",
    template: "ATR analysis: {symbol} volatility at {atr} ({percent}% of price)",
    priority: "low",
    timePreference: "any",
    marketCondition: "any",
  },
  {
    id: "ta_012",
    category: "technical_analysis",
    template: "Volume profile: {symbol} high volume node at ${price} acting as {type}",
    priority: "medium",
    timePreference: "any",
    marketCondition: "any",
  },
  {
    id: "ta_013",
    category: "technical_analysis",
    template: "Harmonic pattern: {symbol} {pattern} completion @ ${price}",
    priority: "high",
    timePreference: "any",
    marketCondition: "any",
  },
  {
    id: "ta_014",
    category: "technical_analysis",
    template: "Elliott Wave: {symbol} completing wave {wave} | Target ${target}",
    priority: "medium",
    timePreference: "any",
    marketCondition: "trending",
  },
  {
    id: "ta_015",
    category: "technical_analysis",
    template: "CMF indicator: {symbol} money flow {direction} ({value}) | {interpretation}",
    priority: "low",
    timePreference: "any",
    marketCondition: "any",
  },
  {
    id: "ta_016",
    category: "technical_analysis",
    template: "OBV analysis: {symbol} on-balance volume {trend} | Price-volume {relationship}",
    priority: "medium",
    timePreference: "any",
    marketCondition: "any",
  },

  // ==================== ORDER MANAGEMENT (13 messages) ====================
  {
    id: "om_001",
    category: "order_management",
    template: "Limit order placed: {type} {symbol} @ ${price} | Size: {size} USDT",
    priority: "low",
    timePreference: "any",
    marketCondition: "any",
  },
  {
    id: "om_002",
    category: "order_management",
    template: "Order partially filled: {symbol} {filled}/{total} USDT @ ${price}",
    priority: "medium",
    timePreference: "any",
    marketCondition: "any",
  },
  {
    id: "om_003",
    category: "order_management",
    template: "Order cancelled: {symbol} limit @ ${price} (market moved away)",
    priority: "low",
    timePreference: "any",
    marketCondition: "any",
  },
  {
    id: "om_004",
    category: "order_management",
    template: "OCO order set: {symbol} TP @ ${tp} / SL @ ${sl}",
    priority: "medium",
    timePreference: "any",
    marketCondition: "any",
  },
  {
    id: "om_005",
    category: "order_management",
    template: "Iceberg order active: {symbol} showing {visible} USDT / {hidden} hidden",
    priority: "low",
    timePreference: "any",
    marketCondition: "any",
  },
  {
    id: "om_006",
    category: "order_management",
    template: "TWAP execution: {symbol} splitting {size} USDT over {duration}",
    priority: "low",
    timePreference: "any",
    marketCondition: "stable",
  },
  {
    id: "om_007",
    category: "order_management",
    template: "Ladder orders placed: {symbol} @ ${price1}, ${price2}, ${price3}",
    priority: "medium",
    timePreference: "any",
    marketCondition: "any",
  },
  {
    id: "om_008",
    category: "order_management",
    template: "Order book depth: {symbol} {size} USDT within {percent}% of mid",
    priority: "low",
    timePreference: "any",
    marketCondition: "any",
  },
  {
    id: "om_009",
    category: "order_management",
    template: "Conditional order triggered: {symbol} @ ${price} (condition: {condition})",
    priority: "medium",
    timePreference: "any",
    marketCondition: "any",
  },
  {
    id: "om_010",
    category: "order_management",
    template: "Order amendment: {symbol} price adjusted ${oldPrice} â†’ ${newPrice}",
    priority: "low",
    timePreference: "any",
    marketCondition: "any",
  },
  {
    id: "om_011",
    category: "order_management",
    template: "Post-only order placed: {symbol} @ ${price} (no taker fee)",
    priority: "low",
    timePreference: "any",
    marketCondition: "stable",
  },
  {
    id: "om_012",
    category: "order_management",
    template: "Fill-or-kill rejected: {symbol} insufficient liquidity @ ${price}",
    priority: "medium",
    timePreference: "any",
    marketCondition: "volatile",
  },
  {
    id: "om_013",
    category: "order_management",
    template: "Order queue position: {symbol} #{position} in line @ ${price}",
    priority: "low",
    timePreference: "any",
    marketCondition: "any",
  },

  // ==================== PORTFOLIO ACTIONS (12 messages) ====================
  {
    id: "pa_001",
    category: "portfolio_actions",
    template: "Portfolio rebalance: Reallocating {percent}% from {from} to {to}",
    priority: "medium",
    timePreference: "any",
    marketCondition: "any",
  },
  {
    id: "pa_002",
    category: "portfolio_actions",
    template: "Asset rotation: Shifting to {sector} sector (momentum: +{percent}%)",
    priority: "medium",
    timePreference: "any",
    marketCondition: "trending",
  },
  {
    id: "pa_003",
    category: "portfolio_actions",
    template: "Diversification check: {count} positions across {sectors} sectors",
    priority: "low",
    timePreference: "evening",
    marketCondition: "any",
  },
  {
    id: "pa_004",
    category: "portfolio_actions",
    template: "Performance snapshot: Portfolio +{percent}% today | ${pnl} realized",
    priority: "medium",
    timePreference: "evening",
    marketCondition: "any",
  },
  {
    id: "pa_005",
    category: "portfolio_actions",
    template: "Cash allocation: {percent}% in stables | Waiting for opportunities",
    priority: "low",
    timePreference: "any",
    marketCondition: "stable",
  },
  {
    id: "pa_006",
    category: "portfolio_actions",
    template: "Beta adjustment: Reducing portfolio beta to {beta} (market uncertainty)",
    priority: "medium",
    timePreference: "any",
    marketCondition: "volatile",
  },
  {
    id: "pa_007",
    category: "portfolio_actions",
    template: "Top performer: {symbol} leading with +{percent}% (24h)",
    priority: "low",
    timePreference: "evening",
    marketCondition: "any",
  },
  {
    id: "pa_008",
    category: "portfolio_actions",
    template: "Underperformer review: {symbol} at -{percent}% | Reassessing thesis",
    priority: "medium",
    timePreference: "any",
    marketCondition: "any",
  },
  {
    id: "pa_009",
    category: "portfolio_actions",
    template: "Liquidity reserve: Maintaining {percent}% cash for volatility events",
    priority: "low",
    timePreference: "any",
    marketCondition: "any",
  },
  {
    id: "pa_010",
    category: "portfolio_actions",
    template: "Sector exposure: {sector} at {percent}% allocation (target: {target}%)",
    priority: "low",
    timePreference: "any",
    marketCondition: "any",
  },
  {
    id: "pa_011",
    category: "portfolio_actions",
    template: "Monthly review: +{percent}% return | {wins}/{total} winning trades",
    priority: "medium",
    timePreference: "morning",
    marketCondition: "any",
  },
  {
    id: "pa_012",
    category: "portfolio_actions",
    template: "Risk-on mode: Increasing exposure to {symbol} and {symbol2} (+{percent}%)",
    priority: "medium",
    timePreference: "any",
    marketCondition: "trending",
  },

  // ==================== ADVANCED SIGNALS (15 messages) ====================
  {
    id: "as_001",
    category: "advanced_signals",
    template: "ML model prediction: {symbol} {direction} probability {percent}% (24h)",
    priority: "high",
    timePreference: "any",
    marketCondition: "any",
  },
  {
    id: "as_002",
    category: "advanced_signals",
    template: "Smart money tracking: {symbol} institutional accumulation detected",
    priority: "high",
    timePreference: "any",
    marketCondition: "any",
  },
  {
    id: "as_003",
    category: "advanced_signals",
    template: "Momentum score: {symbol} = {score}/100 | Trend strength {strength}",
    priority: "medium",
    timePreference: "any",
    marketCondition: "trending",
  },
  {
    id: "as_004",
    category: "advanced_signals",
    template: "Anomaly detection: {symbol} unusual price action @ ${price}",
    priority: "high",
    timePreference: "any",
    marketCondition: "volatile",
  },
  {
    id: "as_005",
    category: "advanced_signals",
    template: "Regime change: Market transitioning to {regime} regime",
    priority: "high",
    timePreference: "any",
    marketCondition: "any",
  },
  {
    id: "as_006",
    category: "advanced_signals",
    template: "Statistical arbitrage: {symbol} z-score {zscore} (mean reversion opportunity)",
    priority: "medium",
    timePreference: "any",
    marketCondition: "ranging",
  },
  {
    id: "as_007",
    category: "advanced_signals",
    template: "Cointegration signal: {symbol}/{symbol2} pair trading setup detected",
    priority: "medium",
    timePreference: "any",
    marketCondition: "any",
  },
  {
    id: "as_008",
    category: "advanced_signals",
    template: "Order flow imbalance: {symbol} {direction} pressure {percent}% above baseline",
    priority: "high",
    timePreference: "any",
    marketCondition: "volatile",
  },
  {
    id: "as_009",
    category: "advanced_signals",
    template: "Market microstructure: {symbol} toxic flow detected | Adjusting execution",
    priority: "medium",
    timePreference: "any",
    marketCondition: "volatile",
  },
  {
    id: "as_010",
    category: "advanced_signals",
    template: "Cross-asset signal: {symbol} correlation with {asset} breaking down",
    priority: "medium",
    timePreference: "any",
    marketCondition: "any",
  },
  {
    id: "as_011",
    category: "advanced_signals",
    template: "Neural network alert: {symbol} pattern match {percent}% confidence",
    priority: "high",
    timePreference: "any",
    marketCondition: "any",
  },
  {
    id: "as_012",
    category: "advanced_signals",
    template: "Sentiment oscillator: {symbol} sentiment {value} ({interpretation})",
    priority: "medium",
    timePreference: "any",
    marketCondition: "any",
  },
  {
    id: "as_013",
    category: "advanced_signals",
    template: "Liquidity event: {symbol} large liquidation cascade @ ${price}",
    priority: "high",
    timePreference: "any",
    marketCondition: "volatile",
  },
  {
    id: "as_014",
    category: "advanced_signals",
    template: "Alpha decay warning: {strategy} performance degrading | Recalibrating",
    priority: "high",
    timePreference: "any",
    marketCondition: "any",
  },
  {
    id: "as_015",
    category: "advanced_signals",
    template: "Ensemble signal: {count}/{total} models agree on {symbol} {direction}",
    priority: "high",
    timePreference: "any",
    marketCondition: "any",
  },
];

// Verify we have 100+ messages
console.log(`Total message templates: ${MESSAGE_TEMPLATES.length}`);
